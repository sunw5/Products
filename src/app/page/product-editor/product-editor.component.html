
<div class="row justify-content-center mt-3">
  <div class="col-6">
    <div *ngIf="product$ | async as product">
      <form #productForm="ngForm" (submit)="onSubmit(product)">
        <label for="name" class="form-label mb-2 mt-3">Name</label>
        <input
          class="form-control"
          type="text"
          name="name"
          id="name"
          [(ngModel)]="product.name"
          pattern="^[a-zA-Z -]{1,20}"
          required
        />
        <div [hidden]="productForm.controls['name']?.valid">
          Please enter a valid name.
        </div>

        <label for="price" class="form-label mb-2 mt-3">Price</label>
        <input
          class="form-control"
          type="number"
          name="price"
          id="price"
          [(ngModel)]="product.price"
          pattern="^[1-9][0-9]{0,4}"
          required
        />
        <div [hidden]="productForm.controls['price']?.valid">
          Please enter a valid price.
        </div>

        <label for="category" class="form-label mb-2 mt-3">Category</label>
        <input
          class="form-control"
          type="text"
          name="category"
          id="category"
          [(ngModel)]="product.category"
          pattern="^[a-zA-Z]{1,20}"
          required
        />
        <div [hidden]="productForm.controls['category']?.valid">
          Please enter a valid category.
        </div>
        <button [hidden]="product.id===0" type="submit" [disabled]="productForm.invalid" class="btn btn-success col-12 mt-3">Update</button>
        <button [hidden]="product.id!==0" type="submit" [disabled]="productForm.invalid" class="btn btn-success col-12 mt-3">Save</button>
      </form>
    </div>
  </div>
</div>
